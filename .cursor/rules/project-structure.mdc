---
alwaysApply: true
description: High-level map of the library, build, and tests to help navigation
---

# Project Structure Guide

- Entry point: [src/index.ts](mdc:src/index.ts)

    - Exports `cloudflareKvCacheAdapter` and `CloudflareKvCacheConfig`
    - Delegates to KV operations in [src/get.ts](mdc:src/get.ts), [src/set.ts](mdc:src/set.ts), [src/delete.ts](mdc:src/delete.ts)
    - Shared key logic in [src/utils.ts](mdc:src/utils.ts)

- Tests: `vitest` with Cloudflare Workers pool

    - Unit tests: [tests/get.test.ts](mdc:tests/get.test.ts), [tests/set.test.ts](mdc:tests/set.test.ts), [tests/delete.test.ts](mdc:tests/delete.test.ts), [tests/utils.test.ts](mdc:tests/utils.test.ts), [tests/adapter.test.ts](mdc:tests/adapter.test.ts), [tests/index.test.ts](mdc:tests/index.test.ts)
    - Worker integration: [tests/worker.ts](mdc:tests/worker.ts), [tests/worker.test.ts](mdc:tests/worker.test.ts)
    - Test helpers and types: [tests/helpers.ts](mdc:tests/helpers.ts), [tests/env.d.ts](mdc:tests/env.d.ts), [tests/tsconfig.json](mdc:tests/tsconfig.json)

- Build & Packaging

    - Library build via Vite Workers config: [vite.config.ts](mdc:vite.config.ts)
        - Formats: ESM and CJS, output in `dist/`
        - Types emitted with `vite-plugin-dts`
        - Externalized deps: `@epic-web/cachified`, `@cloudflare/workers-types`
    - Package metadata and scripts: [package.json](mdc:package.json)
        - `build`, `typecheck`, `test`, `test:ui`, `lint`, `format`
    - TypeScript config (strict, paths): [tsconfig.json](mdc:tsconfig.json)

- Cloudflare Workers testing config

    - Wrangler pool configuration (tests only): [wrangler.vitest.toml](mdc:wrangler.vitest.toml)
    - Uses `compatibility_date` and `nodejs_compat`; KV bound as `KV`

- Commands
    - Build: `pnpm build`
    - Typecheck: `pnpm typecheck`
    - Tests (CI mode): `pnpm test`
    - Tests (UI): `pnpm test:ui`
    - Lint: `pnpm lint`
    - Format: `pnpm format`

Notes

- Internal imports use the alias `~/*` â†’ `src/*` as configured in [tsconfig.json](mdc:tsconfig.json)
- Target Node: `>=20` and ESM (`"type": "module"`)
